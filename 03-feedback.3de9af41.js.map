{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAAeC,SAASC,cAAc,kBACtCC,EAAaH,EAAaE,cAAc,kBACxCE,EAAeJ,EAAaE,cAAc,oBAC1CG,EAAUL,EAAaE,cAAc,yBAC3CG,EAAQC,UAAW,EAenBN,EAAaO,iBAAiB,SAAS,WACrCF,EAAQC,SAAgC,KAArBH,EAAWK,OAAuC,KAAvBJ,EAAaI,K,IAI7D,MAAMC,GAAgB,EAAAX,EAAAY,WAAS,KAC7B,MAAMC,EAAY,CAChBC,MAAOT,EAAWK,MAClBK,QAAST,EAAaI,OAGxBM,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUN,GAAW,GACrE,KAEHR,EAAWI,iBAAiB,QAASE,GACrCL,EAAaG,iBAAiB,QAASE,GAGvC,MAAMS,EAAaJ,aAAaK,QAAQ,uBAExC,GAAID,EAAY,CACd,MAAME,EAAcJ,KAAKK,MAAMH,GAC/Bf,EAAWK,MAAQY,EAAYR,MAC/BR,EAAaI,MAAQY,EAAYP,O,CAGnCb,EAAaO,iBAAiB,UAAUe,IACtCA,EAAMC,iBAEN,MAAMZ,EAAY,CAChBC,MAAOT,EAAWK,MAClBK,QAAST,EAAaI,OAExBgB,QAAQC,IAAId,GAEZG,aAAaY,WAAW,uBACxBvB,EAAWK,MAAQ,GACnBJ,EAAaI,MAAQ,GACrBH,EAAQC,UAAW,CAAI","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n// Import throttle from lodash db\n\nconst feedbackForm = document.querySelector('.feedback-form');\nconst emailInput = feedbackForm.querySelector('[name=\"email\"]');\nconst messageInput = feedbackForm.querySelector('[name=\"message\"]');\nconst sendBtn = feedbackForm.querySelector('button[type=\"submit\"]');\nsendBtn.disabled = true;\n\n// sendBtn.addEventListener('submit', stopBtn);\n// function stopBtn() {\n//   if ((sendBtn.disabled = true)) {\n//     sendBtn.style.textColor = 'Red';\n//     sendBtn.textContent = 'Refresh Page';\n//   } else {\n//     sendBtn.style.backgroundColor = 'none';\n//   }\n//   feedbackForm.reset();\n// }\n\n//Disable empty spaces\n\nfeedbackForm.addEventListener('input', function () {\n  sendBtn.disabled = emailInput.value === '' || messageInput.value === '';\n});\n\n//Save to LocalStorage every 1 sec\nconst saveFormState = throttle(() => {\n  const formState = {\n    email: emailInput.value,\n    message: messageInput.value,\n  };\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formState));\n}, 500);\n\nemailInput.addEventListener('input', saveFormState);\nmessageInput.addEventListener('input', saveFormState);\n\n//Got from LocalStorage\nconst savedState = localStorage.getItem('feedback-form-state');\n\nif (savedState) {\n  const parsedState = JSON.parse(savedState);\n  emailInput.value = parsedState.email;\n  messageInput.value = parsedState.message;\n}\n//Cleaned space and LS\nfeedbackForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const formState = {\n    email: emailInput.value,\n    message: messageInput.value,\n  };\n  console.log(formState);\n\n  localStorage.removeItem('feedback-form-state');\n  emailInput.value = '';\n  messageInput.value = '';\n  sendBtn.disabled = true;\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$feedbackForm","document","querySelector","$945622fd0f572e60$var$emailInput","$945622fd0f572e60$var$messageInput","$945622fd0f572e60$var$sendBtn","disabled","addEventListener","value","$945622fd0f572e60$var$saveFormState","throttle","formState","email","message","localStorage","setItem","JSON","stringify","$945622fd0f572e60$var$savedState","getItem","parsedState","parse","event","preventDefault","console","log","removeItem"],"version":3,"file":"03-feedback.3de9af41.js.map"}