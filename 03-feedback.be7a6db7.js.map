{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAGMC,EAAeC,SAASC,cAAc,kBACtCC,EAAaH,EAAaE,cAAc,kBACxCE,EAAeJ,EAAaE,cAAc,oBAC1CG,EAAUL,EAAaE,cAAc,yBAG3CG,EAAQC,iBAAiB,SACzB,SAAiBC,GACVF,EAAQG,UAAW,EACtBH,EAAQI,MAAMC,gBAAkB,MAChCL,EAAQM,YAAc,eAIxBX,EAAaY,O,IAKfZ,EAAaM,iBAAiB,SAAS,WACrCD,EAAQG,SAAgC,KAArBL,EAAWU,OAAuC,KAAvBT,EAAaS,K,IAI7D,IAAMC,GAAgB,EAAAhB,EAAAiB,WAAS,WAC7B,IAAMC,EAAY,CAChBC,MAAOd,EAAWU,MAClBK,QAASd,EAAaS,OAGxBM,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUN,G,GAC1D,KAEHb,EAAWG,iBAAiB,QAASQ,GACrCV,EAAaE,iBAAiB,QAASQ,GAEvC,IAAMS,EAAaJ,aAAaK,QAAQ,uBAExC,GAAID,EAAY,CACd,IAAME,EAAcJ,KAAKK,MAAMH,GAC/BpB,EAAWU,MAAQY,EAAYR,MAC/Bb,EAAaS,MAAQY,EAAYP,O,CAGnClB,EAAaM,iBAAiB,UAAU,SAAAqB,GACtCA,EAAMC,iBAGGzB,EAAWU,MACTT,EAAaS,MAGxBM,aAAaU,WAAW,uBACxB1B,EAAWU,MAAQ,GACnBT,EAAaS,MAAQ,GACrBR,EAAQG,UAAW,C","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n// Import throttle from lodash db\n\nconst feedbackForm = document.querySelector('.feedback-form');\nconst emailInput = feedbackForm.querySelector('[name=\"email\"]');\nconst messageInput = feedbackForm.querySelector('[name=\"message\"]');\nconst sendBtn = feedbackForm.querySelector('button[type=\"submit\"]');\n// sendBtn.disabled = true;\n\nsendBtn.addEventListener('click', stopBtn);\nfunction stopBtn(evt) {\n  if ((sendBtn.disabled = true)) {\n    sendBtn.style.backgroundColor = 'Red';\n    sendBtn.textContent = 'Refresh Page';\n  } else {\n    sendBtn.style.backgroundColor = 'none';\n  }\n  feedbackForm.reset();\n}\n\n//Disable empty spaces\n\nfeedbackForm.addEventListener('input', function () {\n  sendBtn.disabled = emailInput.value === '' || messageInput.value === '';\n});\n\n//Save to LocalStorage every 1 sec\nconst saveFormState = throttle(() => {\n  const formState = {\n    email: emailInput.value,\n    message: messageInput.value,\n  };\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formState));\n}, 500);\n\nemailInput.addEventListener('input', saveFormState);\nmessageInput.addEventListener('input', saveFormState);\n//Got from LocalStorage\nconst savedState = localStorage.getItem('feedback-form-state');\n\nif (savedState) {\n  const parsedState = JSON.parse(savedState);\n  emailInput.value = parsedState.email;\n  messageInput.value = parsedState.message;\n}\n//Cleaned space and LS\nfeedbackForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const formState = {\n    email: emailInput.value,\n    message: messageInput.value,\n  };\n\n  localStorage.removeItem('feedback-form-state');\n  emailInput.value = '';\n  messageInput.value = '';\n  sendBtn.disabled = true;\n});\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$feedbackForm","document","querySelector","$b00c40859be242c5$var$emailInput","$b00c40859be242c5$var$messageInput","$b00c40859be242c5$var$sendBtn","addEventListener","evt","disabled","style","backgroundColor","textContent","reset","value","$b00c40859be242c5$var$saveFormState","throttle","formState","email","message","localStorage","setItem","JSON","stringify","$b00c40859be242c5$var$savedState","getItem","$b00c40859be242c5$var$parsedState","parse","event","preventDefault","removeItem"],"version":3,"file":"03-feedback.be7a6db7.js.map"}